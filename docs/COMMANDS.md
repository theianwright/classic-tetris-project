# Commands

Note: this file is autogenerated using `python manage.py docgen`. Please do not edit it directly!

The following is a detailed outline of each command the bot supports. Ideas for more commands are always welcome - you may open a [GitHub issue](https://github.com/professor-l/classic-tetris-project/issues/new) to suggest them as well as to report bugs in the existing ones.

Commands are listed with `<required parameters>` and `[optional parameters]`, which occasionally have a `[default=value]`.

## User commands

#### `!country [username] (default username you)`
[Source](../classic_tetris_project/commands/country.py#L6)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!getcountry`

Outputs the country of the specified user, or yourself if no argument is provided.

---

#### `!name [username] (default username you)`
[Source](../classic_tetris_project/commands/preferred_name.py#L5)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!getname`

Prints the specified user's preferred name, or yours if no argument is provided.

---

#### `!pb [username] (default username you)`
[Source](../classic_tetris_project/commands/pb.py#L5)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!getpb`

Prints a list of pbs for the specified user, or yourself if no argument is provided.

---

#### `!playstyle [username] (default username you)`
[Source](../classic_tetris_project/commands/playstyle.py#L5)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!getplaystyle`

Prints the user's playstyle, or yours if no argument is provided.

---

#### `!profile [username] (default username you)`
[Source](../classic_tetris_project/commands/profile.py#L66)<br/>
**Platforms**: Discord, Twitch

Prints most standard information stored in the bot belonging to the specified user, or yourself if no argument is provided. Also makes it pretty.

---

#### `!pronouns [username] (default username you)`
[Source](../classic_tetris_project/commands/pronouns.py#L47)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!pronoun`, `!getpronouns`, `!getpronoun`

Outputs the specified user's pronouns, or your own if no argument is provided.

---

#### `!setcountry <three-letter country code>`
[Source](../classic_tetris_project/commands/country.py#L31)<br/>
**Platforms**: Discord, Twitch

Sets your country in the database. You can find a list of the three-letter codes [here](https://www.iban.com/country-codes) under the "Alpha-3 codes" column.

---

#### `!setname <name>`
[Source](../classic_tetris_project/commands/preferred_name.py#L30)<br/>
**Platforms**: Discord, Twitch

Sets your preferred name. Can contain letters, numbers, spaces, hyphens, underscores, and periods.

---

#### `!setpb <score> [type=NTSC] [level=18]`
[Source](../classic_tetris_project/commands/pb.py#L68)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!newpb`

Sets your personal best in either NTSC or PAL with the indicated starting level (defaults to 18).

---

#### `!setplaystyle <DAS|Hypertap|Hybrid|Roll>`
[Source](../classic_tetris_project/commands/playstyle.py#L29)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!setstyle`

Sets your playstyle to any of the valid options.

---

#### `!setpronouns <pronouns>`
[Source](../classic_tetris_project/commands/pronouns.py#L7)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!setpronoun`

Sets your pronouns to one of the valid options.

---

#### `!setsps <y/n>`
[Source](../classic_tetris_project/commands/same_piece_sets.py#L36)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!setsamepieces`, `!setsamepiecesets`

Sets your ability to use same piece sets in gameplay. Options are y/yes/t/true and n/no/f/false.

---

#### `!sps [username] (default username you)`
[Source](../classic_tetris_project/commands/same_piece_sets.py#L5)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!samepieces`, `!samepiecesets`

Outputs whether the specified user (or yourself) can use a version of Tetris with same piece sets.

## Account linking commands

#### `!link`
[Source](../classic_tetris_project/commands/link.py#L5)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!linkaccount`

Prints instructions for linking accounts from multiple platforms.

## Queueing commands

#### `!accept`
[Source](../classic_tetris_project/commands/matches/challenge.py#L99)<br/>
**Platforms**: Twitch<br/>
**Must be run in a private message**

Accepts the pending challenge to you, if there is one, and adds that match to the queue.

---

#### `!add <player 1> <player 2>`
[Source](../classic_tetris_project/commands/matches/queue.py#L154)<br/>
**Platforms**: Twitch<br/>
**Aliases**: `!addmatch`<br/>
**Must be run in a public channel**<br/>
**Moderator-only**

Adds a match between the two specified players to the queue.

---

#### `!cancel`
[Source](../classic_tetris_project/commands/matches/challenge.py#L155)<br/>
**Platforms**: Twitch<br/>
**Must be run in a public channel**

Cancels your pending challenge to someone else, if you have issued one.

---

#### `!challenge <user>`
[Source](../classic_tetris_project/commands/matches/challenge.py#L53)<br/>
**Platforms**: Twitch<br/>
**Must be run in a public channel**

Challenges the specified user to a match. Only one challenge can be pending to a user at a time, and each user may only issue one challenge at a time.

---

#### `!clear yesimsure`
[Source](../classic_tetris_project/commands/matches/queue.py#L273)<br/>
**Platforms**: Twitch<br/>
**Aliases**: `!clearqueue`<br/>
**Must be run in a public channel**<br/>
**Moderator-only**

Clears the entire queue.

**NOTE**: This command must be run as `!clear yesimsure` (Yes, I'm sure) to be certain that you didn't type this command by accident.

---

#### `!close`
[Source](../classic_tetris_project/commands/matches/queue.py#L116)<br/>
**Platforms**: Twitch<br/>
**Aliases**: `!closequeue`<br/>
**Must be run in a public channel**<br/>
**Moderator-only**

Closes the queue. This prevents challenges from being issued or accepted. Moderators may no longer add matches to the queue unless they reopen it.

---

#### `!decline`
[Source](../classic_tetris_project/commands/matches/challenge.py#L136)<br/>
**Platforms**: Twitch<br/>
**Must be run in a private message**

Declines the pending challenge to you, if there is one.

---

#### `!end`
[Source](../classic_tetris_project/commands/matches/queue.py#L354)<br/>
**Platforms**: Twitch<br/>
**Aliases**: `!endmatch`<br/>
**Must be run in a public channel**<br/>
**Moderator-only**

Ends the current match, automatically determining the winner based on the match data stored each time `!winner` was called.

---

#### `!forfeit <index>`
[Source](../classic_tetris_project/commands/matches/queue.py#L383)<br/>
**Platforms**: Twitch<br/>
**Must be run in a public channel**

Forfeits the match at the specified index, provided you are one of the players in that match.

---

#### `!insert <player 1> <player 2> <index>`
[Source](../classic_tetris_project/commands/matches/queue.py#L182)<br/>
**Platforms**: Twitch<br/>
**Aliases**: `!insertmatch`<br/>
**Must be run in a public channel**<br/>
**Moderator-only**

Adds a match between the two specified players to the queue at the specified index, or at the end if the index is greater than the size of the queue.

---

#### `!match [user] [results=3]`
[Source](../classic_tetris_project/commands/matches/match.py#L10)<br/>
**Platforms**: Twitch<br/>
**Must be run in a public channel**

Retrieves the users in chat with personal bests closest to that of the specified user (or you). Displays specified number of results.

---

#### `!move <current index> <new index>`
[Source](../classic_tetris_project/commands/matches/queue.py#L219)<br/>
**Platforms**: Twitch<br/>
**Aliases**: `!movematch`<br/>
**Must be run in a public channel**<br/>
**Moderator-only**

Moves the match at the specified `start index` to the `end index`.

---

#### `!open`
[Source](../classic_tetris_project/commands/matches/queue.py#L89)<br/>
**Platforms**: Twitch<br/>
**Aliases**: `!openqueue`<br/>
**Must be run in a public channel**<br/>
**Moderator-only**

Opens the queue. This both allows players to challenge one another and allows moderators to add matches manually.

---

#### `!queue`
[Source](../classic_tetris_project/commands/matches/queue.py#L139)<br/>
**Platforms**: Twitch<br/>
**Aliases**: `!q`, `!matches`

Prints the entire queue into chat.

---

#### `!remove <index>`
[Source](../classic_tetris_project/commands/matches/queue.py#L250)<br/>
**Platforms**: Twitch<br/>
**Aliases**: `!removematch`<br/>
**Must be run in a public channel**<br/>
**Moderator-only**

Removes the match at the specified index from the queue.

---

#### `!winner <player> [losing score]`
[Source](../classic_tetris_project/commands/matches/queue.py#L300)<br/>
**Platforms**: Twitch<br/>
**Aliases**: `!declarewinner`<br/>
**Must be run in a public channel**<br/>
**Moderator-only**

Declares the specified player the winner of a game, and stores that result (as well as the optionally provided losing score) in the current match data.

## Utility commands

#### `!authword`
[Source](../classic_tetris_project/commands/utility.py#L168)<br/>
**Platforms**: Discord, Twitch

Prints a randomly-selected word, to prove a game is happening in real-time.

---

#### `!flip`
[Source](../classic_tetris_project/commands/utility.py#L98)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!coin`, `!coinflip`

Prints "Heads!" or "Tails!" randomly. Note: this command has a 10 second timeout to avoid spamming.

---

#### `!hz <level> <height> <taps>`
[Source](../classic_tetris_project/commands/utility.py#L27)<br/>
**Platforms**: Discord<br/>
**Aliases**: `!hydrant`

For the given level, provides the approximate tapping speed(s) required to clear a given height with the number of taps required.

---

#### `!seed`
[Source](../classic_tetris_project/commands/utility.py#L74)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!hex`

Prints a random 6-digit hex code, used for same piece set matches. Seeds which are known to generate bad (i.e. repetitive) piece sequences are excluded.

---

#### `!stats`
[Source](../classic_tetris_project/commands/utility.py#L149)<br/>
**Platforms**: Discord<br/>
**Moderator-only**

Prints basic usage statistics for the bot.

---

#### `!utc`
[Source](../classic_tetris_project/commands/utility.py#L131)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!time`

Prints the current date and time in UTC. Used for scheduling matches with restreamers and other players.

## Other commands

#### `!n (3 <= n <= 10)`
[Source](../classic_tetris_project/commands/countdown.py#L12)<br/>
**Platforms**: Twitch<br/>
**Moderator-only**

Counts down from 3 before saying "Tetris!" in the chat. Works for any number from 3-10.

**Note:** If the bot is not a moderator in your Twitch channel, it will not be able to say more than one message per second, and this restriction (which is built into Twitch) will interfere with countdowns. You can make the bot a moderator by typing `/mod @ClassicTetrisBot` after you have `!summon`ed it.

---

#### `!ctm`
[Source](../classic_tetris_project/commands/info.py#L73)<br/>
**Platforms**: Twitch

Prints a link to the Classic Tetris Monthly discord server (i.e. https://go.ctm.gg/discord).

---

#### `!export`
[Source](../classic_tetris_project/commands/export.py#L10)<br/>
**Platforms**: Discord<br/>
**Must be sent in a DM**

Exports a basic summary of all bot users as a `.csv` file. Is updated once a day.

---

#### `!help`
[Source](../classic_tetris_project/commands/info.py#L9)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!commands`

Prints a link to the complete command reference.

---

#### `!obsfiles [type=ntsc]`
[Source](../classic_tetris_project/commands/pb_zip.py#L8)<br/>
**Platforms**: Discord<br/>
**Moderator-only**

Sends a zipped list of pbs for each Twitch user.

---

#### `!pleaseleavemychannel`
[Source](../classic_tetris_project/commands/summon.py#L47)<br/>
**Platforms**: Twitch<br/>
**Must be run in a private message**

Call this command in a whisper to the bot to remove the bot from your channel.

---

#### `!source`
[Source](../classic_tetris_project/commands/info.py#L46)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!code`, `!sourcecode`

Prints a link to the bot's source code.

---

#### `!stencil`
[Source](../classic_tetris_project/commands/info.py#L59)<br/>
**Platforms**: Discord, Twitch

Prints out info on, and link to download, the (in)famous Stencil.

---

#### `!summon`
[Source](../classic_tetris_project/commands/summon.py#L11)<br/>
**Platforms**: Twitch

Say this in a channel the bot is in to add the bot to your Twitch channel. If you've `!link`ed your Twitch and Discord accounts through the bot, you can even summon the bot to your Twitch channel by messaging it on Discord.

**Note**: If you plan on using the countdown command (Or if you think the bot will be chatting often), make sure you make the bot a moderator to allow it to send more than one message per second.

---

#### `!test`
[Source](../classic_tetris_project/commands/test.py#L5)<br/>
**Platforms**: Discord, Twitch<br/>
**Aliases**: `!devtest`

Send a test message.